---
import { getLangFromUrl, useTranslations } from "@/i18n/utils";

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
const base = import.meta.env.BASE_URL;

const getI18nPath = (path: string) => `${base}/${lang}/${path}/`.replace(/\/+/g, '/');

const prefix = 'home.go_see_it'

const config = {
  title: `${prefix}.title`,
  description: `${prefix}.description`,
  ctaText: `${prefix}.primary_cta`,
  ctaHref: getI18nPath('/contact'),
  secondaryText: `${prefix}.secondary_cta`,
  secondaryHref: getI18nPath('products/mod0')
};
---

<section class="relative py-24 px-4 overflow-hidden">
  <div class="cta-card mx-auto max-w-5xl rounded-[2.5rem] p-8 md:p-16 text-center relative border transition-all duration-700 ease-in-out"
       style="background-color: var(--bg-app); border-color: var(--border-main);">
    
    <div class="absolute -top-24 -right-24 h-64 w-64 rounded-full bg-accent opacity-10 blur-[100px] pointer-events-none"></div>
    <div class="absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-accent opacity-5 blur-[100px] pointer-events-none"></div>
    
    <div class="relative z-10">
      <h2 class="text-3xl md:text-5xl font-black mb-6 tracking-tight">
        {t(config.title)}
      </h2>
      
      <p class="text-lg md:text-xl mb-10 opacity-70 max-w-2xl mx-auto leading-relaxed">
        {t(config.description)}
      </p>
      
      <div class="flex flex-col sm:flex-row justify-center gap-4">
        <a href={config.ctaHref} 
           class="bg-accent text-white px-8 py-4 rounded-xl font-bold 
                  shadow-lg hover:brightness-110 hover:-translate-y-1 transition-all duration-300">
          {t(config.ctaText)}
        </a>
        
        <a href={config.secondaryHref} 
          class="backdrop-blur-md px-8 py-4 rounded-xl font-bold border transition-all duration-300 hover:bg-(--text-main)/10"
          style="border-color: var(--border-main); color: var(--text-main);">
          {t(config.secondaryText)}
        </a>
      </div>
    </div>
  </div>
</section>

<style>
  .cta-card {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.1);
  }
  
  :global(.dark) .cta-card {
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
    border-color: rgba(255, 255, 255, 0.1) !important;
  }
</style>